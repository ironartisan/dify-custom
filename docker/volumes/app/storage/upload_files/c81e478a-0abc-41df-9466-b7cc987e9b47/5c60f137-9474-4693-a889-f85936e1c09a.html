<!DOCTYPE html>
<!-- saved from url=(0054)https://doc.delicloud.com/v2/internal/integration/api/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="../../img/favicon.ico">

    
    <title>公共服务平台 - 得力E+开放文档中心</title>
    

    <link href="./公共服务数字服务网络接口说明文档_files/all.css" rel="stylesheet">
    <link rel="stylesheet" href="./公共服务数字服务网络接口说明文档_files/hack.min.css">
    <!-- 字体源加载问题
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    -->
    <link href="./公共服务数字服务网络接口说明文档_files/bootstrap-custom.min.css" rel="stylesheet">
    <link href="./公共服务数字服务网络接口说明文档_files/base.css" rel="stylesheet">
    <link href="./公共服务数字服务网络接口说明文档_files/cinder.min.css" rel="stylesheet">
    <link href="./公共服务数字服务网络接口说明文档_files/highlight.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->
    <!-- 字体源加载问题
    <script src="../../js/webfontloader.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>
    -->

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="https://doc.delicloud.com/v2/internal/">得力E+开放文档中心</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li>
                        <a href="https://doc.delicloud.com/v2/internal/">首页</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="https://doc.delicloud.com/v2/internal/integration/api/#" class="dropdown-toggle" data-toggle="dropdown">智能设备接入 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/device/">设备标准接入</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/cloudapp/">应用标准接入</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/action/">平台标准指令集</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/app/">APP设备标准交互协议</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="https://doc.delicloud.com/v2/internal/integration/api/#" class="dropdown-toggle" data-toggle="dropdown">开放平台接入 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/integration/oauth/">OAuth2账户接入</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/integration/oa/">第三方系统集成接入</a>
</li>

                        
                            
<li class="active">
    <a href="https://doc.delicloud.com/v2/internal/integration/api/">公共服务平台</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="https://doc.delicloud.com/v2/internal/integration/api/#" class="dropdown-toggle" data-toggle="dropdown">产品接入协议 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/attendance/">云考勤（已废弃）</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/access_control/">云门禁（已废弃）</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/pot/">智能会议</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/cloudprint/">云打印</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/checkin/">综合人员签到</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/products/ewc/">智慧厕所</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="https://doc.delicloud.com/v2/internal/integration/api/#" class="dropdown-toggle" data-toggle="dropdown">其他 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li>
    <a href="http://h5.delicloud.com/docs/">前端文档中心</a>
</li>

                        
                            
<li>
    <a href="https://doc.delicloud.com/v2/internal/others/qrcode/">二维码设计</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://doc.delicloud.com/v2/internal/integration/api/#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> 搜索
                        </a>
                    </li>
                    <li>
                        <a rel="prev" href="https://doc.delicloud.com/v2/internal/integration/oa/">
                            <i class="fas fa-arrow-left"></i> 上一页
                        </a>
                    </li>
                    <li>
                        <a rel="next" href="https://doc.delicloud.com/v2/internal/products/attendance/">
                            下一页 <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_1">公共接口文档</a></li>
            <li class="second-level active"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_2">前言</a></li>
                
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_3">准备工作</a></li>
                
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_4">接入地址</a></li>
                
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_5">访问规则</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_6">签名生成规则</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_7">文件服务</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1">1. 文件上传接口</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#2">2. 文件查询接口</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_8">节假日及工作日服务</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1_1">1. 查询年度休息日及工作日接口</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#2_1">2. 查询某日期是否为工作日接口</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_9">天气服务接口</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1_2">1. 查询今日的天气信息</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_10">语音转换服务接口</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1_3">1. 将文字转换为语音文件</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#_11">消息推送服务接口</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1-app">1. APP消息推送</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#2-app">2. 批量查询APP推送消息</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#3">3. 短信消息推送</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#2_2">2. 批量查询短信消息</a></li>
            <li class="second-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#app">app 版本升级服务</a></li>
                
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#1-app_1">1. 查询app升级接口</a></li>
                <li class="third-level"><a href="https://doc.delicloud.com/v2/internal/integration/api/#2-app_1">2. 分页查询app升级列表</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="_1">公共接口文档</h1>
<h2 id="_2">前言</h2>
<p>本文档将向您介绍如何接入得力云公共服务平台。</p>
<h2 id="_3">准备工作</h2>
<p>应用接入方在正式接入前，需要向得力云公共服务平台申请<code>app_id</code>和<code>app_key</code>作为身份的标识。</p>
<h2 id="_4">接入地址</h2>
<ul>
<li>测试环境: <a href="http://s-psp.delicloud.com/">http://s-psp.delicloud.com</a></li>
<li>生产环境: <a href="https://psp.delicloud.com/">https://psp.delicloud.com</a></li>
</ul>
<h2 id="_5">访问规则</h2>
<p>API调用方在每次调用公共服务平台的任何API时，需要在 <code>HTTP Header</code> 中加入以下字段</p>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">头部字段</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">app_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">应用id，需申请获得</td>
</tr>
<tr>
<td align="right">timestamp</td>
<td>长整型</td>
<td>Y</td>
<td align="left">13位时间戳， unixtime精确到毫秒</td>
</tr>
<tr>
<td align="right">nonce</td>
<td>字符串</td>
<td>Y</td>
<td align="left">6位随机字符串</td>
</tr>
<tr>
<td align="right">sig</td>
<td>字符串</td>
<td>Y</td>
<td align="left">签名字段，生成规则见下文</td>
</tr>
</tbody>
</table>
<p><strong>注意:</strong></p>
<ul>
<li>以上字段均为必填，如若缺失任一字段，则本次请求的ResponseCode会为 <code>400</code>。</li>
<li>平台会对 <code>timestamp</code> 进行校验，落后当前时间10分钟以上的请求会被拒绝，ResponseCode为<code>400</code>。</li>
<li>如若sig字段计算错误或者使用了未授权的 <code>app_id</code>，那么本次请求的ResponseCode为 <code>401</code>。</li>
</ul>
<h3 id="_6">签名生成规则</h3>
<ol>
<li>
<p>将<code>app_id</code>,<code>app_key</code>,<code>nonce</code>,<code>timestamp</code>键和其值组成<code>app_id=v1&amp;app_key=v2&amp;nonce=v3&amp;timestamp=v4</code>格式字符串待签名计算(键的顺序不能变更)</p>
</li>
<li>
<p>将上一步的得到的字符串进行MD5摘要，得到的结果就是<code>sig</code>字段的值</p>
</li>
</ol>
<p><code>sig</code> 字段计算示例:</p>
<div class="highlight"><pre><span></span><code class="hljs makefile"><span class="nx">app_id</span> <span class="o">=</span> <span class="s2"><span class="hljs-string">"6682532562501148673"</span></span>
<span class="nx">app_key</span> <span class="o">=</span> <span class="s2"><span class="hljs-string">"xVoQHBLyW2TIhjluqwZtFjra"</span></span>
<span class="nx">nonce</span> <span class="o">=</span> <span class="s2"><span class="hljs-string">"YQOG3o"</span></span>
<span class="nx">timestamp</span> <span class="o">=</span> <span class="mf">1594169576000</span>

<span class="cm">/** 待签名的字符串: */</span>
<span class="nx">sigStr</span> <span class="o">=</span> <span class="s2"><span class="hljs-string">"app_id=6682532562501148673&amp;app_key=xVoQHBLyW2TIhjluqwZtFjra&amp;nonce=YQOG3o&amp;timestamp=1594169576000"</span></span>

<span class="cm">/** sig = MD5(<span class="hljs-string">"app_id=v1&amp;app_key=v2&amp;nonce=v3&amp;timestamp=v4"</span>) */</span>
<span class="nx">sig</span> <span class="o">=</span> <span class="nx">MD5</span><span class="p">(</span><span class="nx">sigStr</span><span class="p">)</span> <span class="o">=</span> <span class="s2"><span class="hljs-string">"13a4c40edbe73b778be3339ba51719ec"</span></span>
</code></pre></div>
<hr>
<h2 id="_7">文件服务</h2>
<h3 id="1">1. 文件上传接口</h3>
<p>本接口用于上传文件，文件的最大尺寸为<strong>500MiB</strong>。如果上传时设置参数public为false，则只返回file_id。本接口有两种使用方式：表单上传和字节流上传</p>
<p>1）表单上传：设置 <strong>Content-Type</strong>=<strong>multipart/form-data</strong>，接口格式如下：</p>
<ul>
<li>请求参数</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">POST</span></span> <span class="nn"><span class="hljs-string">/api/v1.0.0/file?https={https}&amp;public={public}&amp;client={client}&amp;expire={expire}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na"><span class="hljs-attribute">Content-Type</span></span><span class="o">:</span> <span class="l">multipart/form-data;</span>
</code></pre></div>
<ul>
<li>请求参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">public</td>
<td>布尔值</td>
<td>N</td>
<td align="left">是否公开，true 则返回public_url</td>
</tr>
<tr>
<td align="right">client</td>
<td>字符串</td>
<td>Y</td>
<td align="left">上传者签名，如果为设备，建议输入sn</td>
</tr>
<tr>
<td align="right">https</td>
<td>布尔值</td>
<td>N</td>
<td align="left">下载链接是否为https链接，true或未设置 则默认为https链接</td>
</tr>
<tr>
<td align="right">expire</td>
<td>数字</td>
<td>N</td>
<td align="left">文件上传的过期时间，单位为ms，例如1分钟后过期，则设置为60000。文件的最大过期时间为6个月</td>
</tr>
<tr>
<td align="right">file</td>
<td>文件</td>
<td>Y</td>
<td align="left">要上传的文件</td>
</tr>
</tbody>
</table>
<p>2）字节流上传：设置 <strong>Content-Type</strong>=<strong>application/octet-stream</strong>，接口格式如下：</p>
<ul>
<li>请求参数</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">POST</span></span> <span class="nn"><span class="hljs-string">/api/v1.0.0/file?https={https}&amp;public={public}&amp;client={client}&amp;expire={expire}&amp;name={name}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na"><span class="hljs-attribute">Content-Type</span></span><span class="o">:</span> <span class="l">application/octet-stream;</span>
</code></pre></div>
<ul>
<li>请求参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">public</td>
<td>布尔值</td>
<td>N</td>
<td align="left">是否公开，true 则返回public_url</td>
</tr>
<tr>
<td align="right">client</td>
<td>字符串</td>
<td>Y</td>
<td align="left">上传者签名，如果为设备，建议输入sn</td>
</tr>
<tr>
<td align="right">https</td>
<td>布尔值</td>
<td>N</td>
<td align="left">下载链接是否为https链接，true或未设置 则默认为https链接</td>
</tr>
<tr>
<td align="right">expire</td>
<td>数字</td>
<td>N</td>
<td align="left">文件上传的过期时间，单位为ms，例如1分钟后过期，则设置为60000。文件的最大过期时间为6个月</td>
</tr>
<tr>
<td align="right">name</td>
<td>字符串</td>
<td>Y</td>
<td align="left">文件名称</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs json">{
    <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"file_id"</span>: <span class="hljs-string">"31522343243234234"</span>,
        <span class="hljs-attr">"public_url"</span>: <span class="hljs-string">"https://file.delicloud.com/njfwefownfwnodwedw"</span>,
        <span class="hljs-attr">"due_time"</span>: <span class="hljs-string">"1595571950340"</span>
    }
}
</code></pre></div>
<ul>
<li>返回结果说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">file_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">文件上传的唯一id</td>
</tr>
<tr>
<td align="right">public_url</td>
<td>字符串</td>
<td>N</td>
<td align="left">文件的下载地址</td>
</tr>
<tr>
<td align="right">due_time</td>
<td>字符串</td>
<td>N</td>
<td align="left">文件的到期时间，格式为ms级别的时间戳</td>
</tr>
</tbody>
</table>
<h3 id="2">2. 文件查询接口</h3>
<p>本接口用于查询文件的基本信息（包括下载地址和到期时间），如果文件上传时设置为公开，那么任何应用都可根据file_id查询到文件的信息。<br>
如果设置为不公开，那么只有同一个appId的应用才可以查询到文件的信息。</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/v1.0.0/file/{file_id}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">file_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">文件上传的唯一id，上传文件接口返回</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs json">{
    <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"data"</span>: {
        <span class="hljs-attr">"file_id"</span>: <span class="hljs-string">"31522343243234234"</span>,
        <span class="hljs-attr">"public_url"</span>: <span class="hljs-string">"https://file.delicloud.com/njfwefownfwnodwedw"</span>,
        <span class="hljs-attr">"due_time"</span>: <span class="hljs-string">"1595571950340"</span>
    }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">file_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">文件上传的唯一id</td>
</tr>
<tr>
<td align="right">public_url</td>
<td>字符串</td>
<td>N</td>
<td align="left">文件的下载地址</td>
</tr>
<tr>
<td align="right">due_time</td>
<td>字符串</td>
<td>N</td>
<td align="left">文件的到期时间，格式为ms级别的时间戳</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="_8">节假日及工作日服务</h2>
<h3 id="1_1">1. 查询年度休息日及工作日接口</h3>
<p>本接口用于查询某年度休息日及工作日的情况，未在响应结果里说明的日期按照标准工作周期来决定。</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/holiday?year=${year}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">year</td>
<td>整数</td>
<td>N</td>
<td align="left">比如 2020，若未提供则默认查询当年情况</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
  <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"year"</span>: <span class="hljs-number">2020</span>,        <span class="hljs-comment">// 年份</span>
    <span class="hljs-string">"holidays"</span>: [        <span class="hljs-comment">// 本年度节假日列表</span>
      {
       <span class="hljs-string">"code"</span>: <span class="hljs-string">""</span>,       <span class="hljs-comment">// 节日代码</span>
       <span class="hljs-string">"name"</span>: <span class="hljs-string">""</span>,       <span class="hljs-comment">// 节假日名称，比如“春节”</span>
       <span class="hljs-string">"days"</span>: [         <span class="hljs-comment">// 本次节假日休息或补班的日子</span>
         {
          <span class="hljs-string">"day"</span>: <span class="hljs-string">""</span>,
          <span class="hljs-string">"name"</span>: <span class="hljs-string">""</span>,    <span class="hljs-comment">// 加假日当天的别称，比如“大年初二”</span>
          <span class="hljs-string">"type"</span>: <span class="hljs-string">""</span>     <span class="hljs-comment">// BREAK 休息日; WORK 工作日</span>
         }
        ]
      }
    ]
  }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
</tbody>
</table>
<h3 id="2_1">2. 查询某日期是否为工作日接口</h3>
<p>本接口用于查询某日期的休假情况，比如休息日、节日、周末及补班等。</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/holiday/day?date=${date}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">date</td>
<td>字符串</td>
<td>N</td>
<td align="left">比如 2020-07-01，若未提供则默认查询当天情况</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
  <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"day"</span>: <span class="hljs-string">""</span>,     <span class="hljs-comment">// 日期</span>
    <span class="hljs-string">"name"</span>: <span class="hljs-string">""</span>,    <span class="hljs-comment">// 节假日当天的别称，比如“大年初三”</span>
    <span class="hljs-string">"type"</span>: <span class="hljs-string">""</span>     <span class="hljs-comment">// BREAK 休息日; WORK 工作日</span>
  }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="_9">天气服务接口</h2>
<h3 id="1_2">1. 查询今日的天气信息</h3>
<p>本接口用于根据城市代码或经纬度参数来查询今日的天气信息</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/weather?location=${location}&amp;city=${city}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">location</td>
<td>字符串</td>
<td>N</td>
<td align="left">城市的ADCode, 或者经度, 纬度格式的字符串, 优先级高于 city字段</td>
</tr>
<tr>
<td align="right">city</td>
<td>字符串</td>
<td>N</td>
<td align="left">城市的名称, 可使用拼音或者汉字, 当 location 字段为空时，使用该字段进行查询</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
  <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"temp"</span>: <span class="hljs-string">"4"</span>, <span class="hljs-comment">// 预报温度</span>
    <span class="hljs-string">"icon_url"</span>: <span class="hljs-string">"http://file.delicloud.com/psp/weather/502.png"</span>, <span class="hljs-comment">// 天气icon下载链接</span>
    <span class="hljs-string">"text"</span>: <span class="hljs-string">"霾"</span>, <span class="hljs-comment">// 天气状况的文字描述</span>
    <span class="hljs-string">"wind360"</span>: <span class="hljs-string">"45"</span>, <span class="hljs-comment">// 风向360角度</span>
    <span class="hljs-string">"humidity"</span>: <span class="hljs-string">"71"</span>, <span class="hljs-comment">// 相对湿度</span>
    <span class="hljs-string">"precip"</span>: <span class="hljs-string">"0.0"</span>, <span class="hljs-comment">// 降水量</span>
    <span class="hljs-string">"pressure"</span>: <span class="hljs-string">"1030"</span>, <span class="hljs-comment">// 大气压强</span>
    <span class="hljs-string">"vis"</span>: <span class="hljs-string">"2"</span>, <span class="hljs-comment">// 能见度</span>
    <span class="hljs-string">"cloud"</span>: <span class="hljs-string">"75"</span>, <span class="hljs-comment">// 云量</span>
    <span class="hljs-string">"dew"</span>: <span class="hljs-string">"-2"</span> <span class="hljs-comment">// 露点温度</span>
  }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">temp</td>
<td>字符串</td>
<td>N</td>
<td align="left">预报温度</td>
</tr>
<tr>
<td align="right">icon_url</td>
<td>字符串</td>
<td>N</td>
<td align="left">天气icon的url下载地址</td>
</tr>
<tr>
<td align="right">text</td>
<td>字符串</td>
<td>N</td>
<td align="left">天气状况的文字描述</td>
</tr>
<tr>
<td align="right">wind360</td>
<td>字符串</td>
<td>N</td>
<td align="left">风向360角度</td>
</tr>
<tr>
<td align="right">humidity</td>
<td>字符串</td>
<td>N</td>
<td align="left">相对湿度</td>
</tr>
<tr>
<td align="right">precip</td>
<td>字符串</td>
<td>N</td>
<td align="left">降水量</td>
</tr>
<tr>
<td align="right">pressure</td>
<td>字符串</td>
<td>N</td>
<td align="left">大气压强</td>
</tr>
<tr>
<td align="right">vis</td>
<td>字符串</td>
<td>N</td>
<td align="left">能见度</td>
</tr>
<tr>
<td align="right">cloud</td>
<td>字符串</td>
<td>N</td>
<td align="left">云量</td>
</tr>
<tr>
<td align="right">dew</td>
<td>字符串</td>
<td>N</td>
<td align="left">-2</td>
</tr>
</tbody>
</table>
<h2 id="_10">语音转换服务接口</h2>
<h3 id="1_3">1. 将文字转换为语音文件</h3>
<p>本接口用于将一段文字转换为语音</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/tts?text=${text}&amp;mode=${mode}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">text</td>
<td>字符串</td>
<td>Y</td>
<td align="left">待转换为语音文件的文本信息, 不得超过64个字符</td>
</tr>
<tr>
<td align="right">mode</td>
<td>数字</td>
<td>N</td>
<td align="left">转换模式，0 表示普通转换, 1 表示姓名的转换, 默认为0, 传入其它值将为</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs json">{
  <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">"msg"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-attr">"data"</span>: {
    <span class="hljs-attr">"origin_str"</span>: <span class="hljs-string">"张三"</span>,
    <span class="hljs-attr">"mp3_address"</span>: <span class="hljs-string">"http://file.delicloud.xin/c7bf6b8aa97a62cabebb4aea86c299cf"</span>
  }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">origin_str</td>
<td>字符串</td>
<td>Y</td>
<td align="left">输入文本</td>
</tr>
<tr>
<td align="right">url</td>
<td>字符串</td>
<td>N</td>
<td align="left">语音文件的下载地址, 语音文件默认为mp3格式</td>
</tr>
</tbody>
</table>
<h2 id="_11">消息推送服务接口</h2>
<h3 id="1-app">1. APP消息推送</h3>
<p>本接口用于对于手机APP用户进行消息推送</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">POST</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/message/app</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>
<p>请求体
</p><div class="highlight"><pre><span></span><code class="hljs objectivec">{
    <span class="hljs-comment">// 消息内容</span>
    <span class="hljs-string">"content"</span>: {
        <span class="hljs-string">"template"</span>: <span class="hljs-string">"app_message_code"</span>,
        <span class="hljs-string">"template_params"</span>: {
          <span class="hljs-string">"name"</span>: <span class="hljs-string">"张三"</span>
        },
        <span class="hljs-string">"extra"</span>: {
          <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://baidu.com"</span>
        },
    },
    <span class="hljs-comment">// 消息推送平台</span>
    <span class="hljs-string">"platforms"</span>: [<span class="hljs-string">"android"</span>, <span class="hljs-string">"ios"</span>],
    <span class="hljs-comment">// 消息推送目标</span>
    <span class="hljs-string">"target"</span>: {
        <span class="hljs-string">"identities"</span>: [<span class="hljs-string">"eplus_app_12312312"</span>, <span class="hljs-string">"eplus_app_4534534"</span>],
        <span class="hljs-string">"tags"</span>: [<span class="hljs-string">"rich"</span>, <span class="hljs-string">"male"</span>]
    }
}
</code></pre></div><p></p>
</li>
<li>
<p>参数说明</p>
</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">template</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息模板的code</td>
</tr>
<tr>
<td align="right">template_params</td>
<td>JSON对象</td>
<td>N</td>
<td align="left">用于填充消息模板的参数</td>
</tr>
<tr>
<td align="right">extra</td>
<td>JSON对象</td>
<td>N</td>
<td align="left">额外参数，会透传给APP</td>
</tr>
<tr>
<td align="right">platforms</td>
<td>JSON数组</td>
<td>Y</td>
<td align="left">推送平台，目前仅支持 android, ios两个平台</td>
</tr>
<tr>
<td align="right">identities</td>
<td>JSON数组</td>
<td>N</td>
<td align="left">唯一推送目标，需要APP端事先注册</td>
</tr>
<tr>
<td align="right">tags</td>
<td>JSON数组</td>
<td>N</td>
<td align="left">标签推送目标，需要APP端事先注册</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs json">{
    <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"data"</span>: <span class="hljs-string">"6749459052564258817"</span>
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">data</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息唯一id，用于后续查询消息内容和送达情况</td>
</tr>
</tbody>
</table>
<h3 id="2-app">2. 批量查询APP推送消息</h3>
<p>本接口用于批量查询指定消息id的消息内容和送达情况</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/message/app?msgIdList=${msgIdList}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">msgIdList</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息id列表,将消息id用逗号隔开组成列表，最多不超过10条</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
    <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-string">"data"</span>: [
        {
            <span class="hljs-string">"msg_id"</span>: <span class="hljs-string">"6748114075695177729"</span>,
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"欢迎使用得力e+"</span>,
            <span class="hljs-string">"body"</span>: <span class="hljs-string">"欢迎使用得力e+, 戴钰朦!"</span>,
            <span class="hljs-comment">// 自定义数据</span>
            <span class="hljs-string">"payload"</span>: {
                <span class="hljs-string">"jump_link"</span>: <span class="hljs-string">"delieplus://app/me"</span>,
                <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://baidu.com"</span>
            },
            <span class="hljs-string">"android_send"</span>: <span class="hljs-string">"1"</span>,
            <span class="hljs-string">"ios_send"</span>: <span class="hljs-string">"0"</span>
        }
    ]
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">msg_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息唯一id</td>
</tr>
<tr>
<td align="right">title</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息标题</td>
</tr>
<tr>
<td align="right">body</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息内容</td>
</tr>
<tr>
<td align="right">payload</td>
<td>JSON对象</td>
<td>Y</td>
<td align="left">消息自定义数据</td>
</tr>
<tr>
<td align="right">android_send</td>
<td>数字</td>
<td>Y</td>
<td align="left">安卓送达消息数量</td>
</tr>
<tr>
<td align="right">ios_send</td>
<td>数字</td>
<td>Y</td>
<td align="left">ios送达数量</td>
</tr>
</tbody>
</table>
<h3 id="3">3. 短信消息推送</h3>
<p>本接口用于对指定手机进行短信推送</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">POST</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/message/short-message</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>
<p>请求体
</p><div class="highlight"><pre><span></span><code class="hljs objectivec">{
    <span class="hljs-comment">// 消息内容</span>
    <span class="hljs-string">"content"</span>: {
        <span class="hljs-string">"template"</span>: <span class="hljs-string">"SMS_204106750"</span>,
        <span class="hljs-string">"template_params"</span>: {
          <span class="hljs-string">"code"</span>: <span class="hljs-string">"213123"</span>
        }
    },
    <span class="hljs-comment">// 需要推送短信的手机号列表</span>
    <span class="hljs-string">"target"</span>: [
        {
            <span class="hljs-string">"mobile"</span>: <span class="hljs-string">"13419631980"</span>,
            <span class="hljs-string">"mobile_region"</span>: <span class="hljs-string">"86"</span>
        }
    ]
}
</code></pre></div><p></p>
</li>
<li>
<p>参数说明</p>
</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">template</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息模板的code</td>
</tr>
<tr>
<td align="right">template_params</td>
<td>JSON对象</td>
<td>N</td>
<td align="left">用于填充消息模板的参数</td>
</tr>
<tr>
<td align="right">mobile</td>
<td>字符串</td>
<td>Y</td>
<td align="left">推送的手机号</td>
</tr>
<tr>
<td align="right">mobile_region</td>
<td>字符串</td>
<td>Y</td>
<td align="left">手机号区号</td>
</tr>
</tbody>
</table>
<p>单次消息推送的手机号不能超过1000个</p>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs json">{
    <span class="hljs-attr">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"data"</span>: <span class="hljs-string">"6749459052564258817"</span>
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">data</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息唯一id，用于后续查询消息内容和送达情况</td>
</tr>
</tbody>
</table>
<h3 id="2_2">2. 批量查询短信消息</h3>
<p>本接口用于批量查询指定消息id的消息内容和送达情况</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/message/short-message?msgIdList=${msgIdList}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">msgIdList</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息id列表,将消息id用逗号隔开组成列表，最多不超过10条</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
    <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-comment">// 消息列表</span>
        <span class="hljs-string">"msg_detail_list"</span>: [
            {
                <span class="hljs-string">"body"</span>: <span class="hljs-string">"登录验证码"</span>,
                <span class="hljs-string">"mobiles"</span>: [<span class="hljs-number">13419631980</span>, <span class="hljs-number">13419631978</span>],
                <span class="hljs-string">"msg_id"</span>: <span class="hljs-string">"6749459052564258817"</span>,
                <span class="hljs-string">"result"</span>: <span class="hljs-number">0</span>
            }
        ]
    },
    <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码, 0 说明业务成功</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">msg_id</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息唯一id</td>
</tr>
<tr>
<td align="right">mobiles</td>
<td>JSON数组</td>
<td>Y</td>
<td align="left">手机号列表</td>
</tr>
<tr>
<td align="right">body</td>
<td>字符串</td>
<td>Y</td>
<td align="left">消息内容</td>
</tr>
<tr>
<td align="right">result</td>
<td>数字</td>
<td>Y</td>
<td align="left">发送结果，0 表示待发送, 1 表示推送成功，2 表示推送失败</td>
</tr>
</tbody>
</table>
<h2 id="app">app 版本升级服务</h2>
<h3 id="1-app_1">1. 查询app升级接口</h3>
<p>本接口用于查询 app 的可用升级，如果返回的数据中 data 为空说明无可用升级</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/app-upgrade/{app_code}version=${version}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">app_code</td>
<td>字符串</td>
<td>Y</td>
<td align="left">app代码</td>
</tr>
<tr>
<td align="right">version</td>
<td>字符串</td>
<td>N</td>
<td align="left">app版本号，如果为空则默认为0.0.0</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
  <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
  <span class="hljs-string">"data"</span>: {
    <span class="hljs-string">"app_code"</span>: <span class="hljs-string">"plus_apk"</span>,
    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.1"</span>,
    <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://oss-cn-shanghai.aliyuncs.com/oss-1565578267643-40428198.apk"</span>, <span class="hljs-comment">// apk下载地址</span>
    <span class="hljs-string">"checksum"</span>: <span class="hljs-string">"c2.0.1"</span>,<span class="hljs-comment">// apk的校验代码</span>
    <span class="hljs-string">"size"</span>: <span class="hljs-number">123456789</span>, <span class="hljs-comment">// apk的大小</span>
    <span class="hljs-string">"min_platform_version"</span>: <span class="hljs-number">3.4</span>, <span class="hljs-comment">// app平台的最小版本</span>
    <span class="hljs-string">"max_platform_version"</span>: <span class="hljs-number">1.2</span>, <span class="hljs-comment">// app平台的最大版本</span>
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"1、消息模块增加了发起单人聊天功能，多人聊天室中增加了@功能； 2、通讯录中增加了管理员标记，可以快速定位管理员了； 3、修复了一段时间未登录后被挤下线的问题。"</span>, <span class="hljs-comment">// 更新日志</span>
    <span class="hljs-string">"upgrade_type"</span>: <span class="hljs-string">"normal"</span>,
  }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">app_code</td>
<td>字符串</td>
<td>Y</td>
<td align="left">app代号</td>
</tr>
<tr>
<td align="right">version</td>
<td>字符串</td>
<td>Y</td>
<td align="left">升级版本</td>
</tr>
<tr>
<td align="right">url</td>
<td>字符串</td>
<td>Y</td>
<td align="left">apk下载地址</td>
</tr>
<tr>
<td align="right">checksum</td>
<td>字符串</td>
<td>Y</td>
<td align="left">apk校验值</td>
</tr>
<tr>
<td align="right">size</td>
<td>整型</td>
<td>Y</td>
<td align="left">apk大小</td>
</tr>
<tr>
<td align="right">min_platform_version</td>
<td>浮点数</td>
<td>Y</td>
<td align="left">最小平台版本，例如应用的最小安卓版本为 5.0</td>
</tr>
<tr>
<td align="right">max_platform_version</td>
<td>浮点数</td>
<td>Y</td>
<td align="left">最大平台版本，例如应用的最大安卓版本为 9.0</td>
</tr>
<tr>
<td align="right">description</td>
<td>字符串</td>
<td>Y</td>
<td align="left">本次升级的更新日志</td>
</tr>
<tr>
<td align="right">upgrade_type</td>
<td>字符串</td>
<td>Y</td>
<td align="left">升级类型, normal - 正常升级， force - 强制升级， explicit - 隐式升级</td>
</tr>
</tbody>
</table>
<h3 id="2-app_1">2. 分页查询app升级列表</h3>
<p>本接口用于分页查询app的全部升级列表, 升级列表按版本号倒序排列</p>
<ul>
<li>请求</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs http"><span class="nf"><span class="hljs-keyword">GET</span></span> <span class="nn"><span class="hljs-string">/api/1.0.0/app/page/{app_code}?page={page}&amp;size=${size}</span></span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">请求参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">app_code</td>
<td>字符串</td>
<td>Y</td>
<td align="left">app代号</td>
</tr>
<tr>
<td align="right">page</td>
<td>数字</td>
<td>Y</td>
<td align="left">分页查询的页码</td>
</tr>
<tr>
<td align="right">size</td>
<td>数字</td>
<td>Y</td>
<td align="left">分页查询每页的数据量</td>
</tr>
</tbody>
</table>
<ul>
<li>返回结果</li>
</ul>
<div class="highlight"><pre><span></span><code class="hljs objectivec">{
    <span class="hljs-string">"code"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"msg"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"page"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-comment">// 数据列表</span>
        <span class="hljs-string">"rows"</span>: [
            {
                <span class="hljs-string">"app_code"</span>: <span class="hljs-string">"push_apk"</span>,
                <span class="hljs-string">"checksum"</span>: <span class="hljs-string">"c2.0.1"</span>,
                <span class="hljs-string">"description"</span>: <span class="hljs-string">"1、消息模块增加了发起单人聊天功能，多人聊天室中增加了@功能； 2、通讯录中增加了管理员标记，可以快速定位管理员了； 3、修复了一段时间未登录后被挤下线的问题。"</span>,
                <span class="hljs-string">"max_platform_version"</span>: <span class="hljs-number">3.4</span>,
                <span class="hljs-string">"min_platform_version"</span>: <span class="hljs-number">1.2</span>,
                <span class="hljs-string">"size"</span>: <span class="hljs-number">123456789</span>,
                <span class="hljs-string">"upgrade_type"</span>: <span class="hljs-string">"normal"</span>,
                <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://oss-cn-shanghai.aliyuncs.com/oss-1565578267643-40428198.apk"</span>,
                <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.1.0"</span>
            }
        ],
        <span class="hljs-string">"size"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"total"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"total_page"</span>: <span class="hljs-number">0</span>
    }
}
</code></pre></div>
<ul>
<li>参数说明</li>
</ul>
<table class="table table-striped table-hover">
<thead>
<tr>
<th align="right">返回参数</th>
<th>格式</th>
<th>必传</th>
<th align="left">参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">code</td>
<td>整数</td>
<td>Y</td>
<td align="left">错误码</td>
</tr>
<tr>
<td align="right">msg</td>
<td>字符串</td>
<td>N</td>
<td align="left">错误信息</td>
</tr>
<tr>
<td align="right">page</td>
<td>整数</td>
<td>Y</td>
<td align="left">当前页码</td>
</tr>
<tr>
<td align="right">size</td>
<td>整型</td>
<td>Y</td>
<td align="left">当前页码数据量</td>
</tr>
<tr>
<td align="right">total</td>
<td>整型</td>
<td>Y</td>
<td align="left">总的数据量</td>
</tr>
<tr>
<td align="right">total_page</td>
<td>整型</td>
<td>Y</td>
<td align="left">总页数</td>
</tr>
<tr>
<td align="right">app_code</td>
<td>字符串</td>
<td>Y</td>
<td align="left">appd代号</td>
</tr>
<tr>
<td align="right">version</td>
<td>字符串</td>
<td>Y</td>
<td align="left">升级版本</td>
</tr>
<tr>
<td align="right">url</td>
<td>字符串</td>
<td>Y</td>
<td align="left">apk下载地址</td>
</tr>
<tr>
<td align="right">checksum</td>
<td>字符串</td>
<td>Y</td>
<td align="left">apk校验值</td>
</tr>
<tr>
<td align="right">size</td>
<td>整型</td>
<td>Y</td>
<td align="left">apk大小</td>
</tr>
<tr>
<td align="right">min_platform_version</td>
<td>浮点数</td>
<td>Y</td>
<td align="left">最小平台版本，例如应用的最小安卓版本为 5.0</td>
</tr>
<tr>
<td align="right">max_platform_version</td>
<td>浮点数</td>
<td>Y</td>
<td align="left">最大平台版本，例如应用的最大安卓版本为 9.0</td>
</tr>
<tr>
<td align="right">description</td>
<td>字符串</td>
<td>Y</td>
<td align="left">本次升级的更新日志</td>
</tr>
<tr>
<td align="right">upgrade_type</td>
<td>字符串</td>
<td>Y</td>
<td align="left">升级类型, normal - 正常升级， force - 强制升级， explicit - 隐式升级</td>
</tr>
</tbody>
</table></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small></p>

        
        
    </footer>
    <script src="./公共服务数字服务网络接口说明文档_files/jquery-1.12.4.min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/bootstrap-3.0.3.min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/highlight.pack.js.下载"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>var base_url = "../.."</script>
    
    <script src="./公共服务数字服务网络接口说明文档_files/base.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/mermaid.min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/raphael.min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/underscore-min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/sequence-diagram-min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/flowchart.min.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/umlconvert.js.下载"></script>
    <script src="./公共服务数字服务网络接口说明文档_files/main.js.下载"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">搜索</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">关闭</span></button>
            </div>
            <div class="modal-body">
                <p>
                    请输入你要搜索内容的关键字: 
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="搜索..." id="mkdocs-search-query" title="请输入搜索关键字">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    


</body></html>